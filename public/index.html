<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Glitch Hub</title>

<!-- ============ UV PROXY ============ -->
<script src="/uv/uv.bundle.js"></script>
<script src="/uv/uv.config.js"></script>
<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("/uv/sw.js", {
      scope: __uv$config.prefix
    });
  });
}
</script>

<style>
:root{
  --bg:#050505;
  --panel:#0f0f0f;
  --border:#2a2a2a;
  --accent:#ff2d2d;
  --text:#e0e0e0;
}

/* THEMES */
[data-theme="blue"]{--accent:#2da9ff}
[data-theme="purple"]{--accent:#b22dff}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:Segoe UI,Arial;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* ===== HEADER ===== */
header{
  background:var(--panel);
  padding:16px;
  text-align:center;
  font-size:2rem;
  font-weight:700;
  border-bottom:1px solid var(--border);
  position:relative;
}

#settingsBtn{
  position:absolute;
  right:16px;
  top:16px;
  cursor:pointer;
}

/* ===== NAV ===== */
nav{
  display:flex;
  justify-content:center;
  gap:18px;
  padding:10px;
  background:var(--panel);
  border-bottom:1px solid var(--border);
}

.nav-btn{
  padding:10px 18px;
  border:1px solid var(--border);
  border-radius:14px;
  cursor:pointer;
  background:#141414;
}

/* ===== MAIN SEARCH ===== */
main{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:40px;
}

#searchInput{
  width:100%;
  max-width:600px;
  padding:16px 20px;
  background:#111;
  border:1px solid var(--border);
  color:var(--text);
  border-radius:999px;
  font-size:1.1rem;
  outline:none;
}

/* ===== FOOTER ===== */
footer{
  padding:12px;
  text-align:center;
  background:var(--panel);
  border-top:1px solid var(--border);
  font-size:.85rem;
  color:#aaa;
}

/* ===== PROXY OVERLAY ===== */
#proxyOverlay{
  position:fixed;
  inset:0;
  background:#000;
  display:none;
  flex-direction:column;
  z-index:9999;
}

/* ===== TABS ===== */
#tabsBar{
  display:flex;
  gap:6px;
  padding:6px;
  background:#0b0b0b;
  border-bottom:1px solid var(--border);
  overflow-x:auto;
}

.tab{
  display:flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  background:#141414;
  border:1px solid var(--border);
  border-radius:16px;
  font-size:.8rem;
  cursor:pointer;
}

.tab.active{
  background:var(--accent);
  color:#000;
  font-weight:700;
}

.tab img{width:14px;height:14px}
.tab .close{font-weight:900;cursor:pointer}

/* ===== BROWSER BAR ===== */
#browserBar{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px;
  background:var(--panel);
  border-bottom:1px solid var(--border);
}

.bubble-btn{
  padding:8px 14px;
  border-radius:999px;
  background:#151515;
  border:1px solid var(--border);
  cursor:pointer;
  box-shadow:inset 0 0 6px rgba(255,45,45,.25),0 0 10px rgba(255,45,45,.35);
}

#urlBar{
  flex:1;
  padding:8px 16px;
  background:#0b0b0b;
  border:1px solid var(--border);
  border-radius:999px;
  font-family:monospace;
  font-size:.85rem;
  color:var(--accent);
  outline:none;
}

/* ===== FRAMES ===== */
#frames{flex:1;position:relative}
.proxyFrame{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:none;
  display:none;
}
.proxyFrame.active{display:block}

/* ===== SETTINGS PANEL ===== */
#settingsPanel{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10000;
}

.settings-box{
  width:420px;
  background:#0e0e0e;
  border:1px solid var(--border);
  border-radius:18px;
  padding:20px;
}

.settings-box h3{margin:12px 0 6px}
.settings-box select,
.settings-box input{
  width:100%;
  padding:8px;
  margin-bottom:10px;
  background:#111;
  border:1px solid var(--border);
  color:white;
  border-radius:10px;
}
</style>
</head>

<body>

<header>
  Glitch Hub
  <div id="settingsBtn" onclick="openSettings()">⚙</div>
</header>

<nav>
<div class="nav-btn" onclick="location.href='../games/app.html'">Games</div>
<div class="nav-btn" onclick="location.href='../movies/index.html'">Movies</div>
<div class="nav-btn" onclick="location.href='../ai/index.html'">AI</div>
<div class="nav-btn" onclick="location.href='../tools/index.html'">Tools</div>
</nav>

<main>
  <input id="searchInput" placeholder="Search or enter URL (press Enter)">
</main>

<footer>© 2025 Glitch Override</footer>

<!-- ===== PROXY OVERLAY ===== -->
<div id="proxyOverlay">

  <div id="tabsBar">
    <div class="tab" onclick="newTab()">＋</div>
  </div>

  <div id="browserBar">
    <div class="bubble-btn" onclick="goBack()">⟵</div>
    <div class="bubble-btn" onclick="goForward()">⟶</div>
    <div class="bubble-btn" onclick="refreshTab()">⟳</div>
    <input id="urlBar">
    <div class="bubble-btn" onclick="fullscreen()">⛶</div>
    <div class="bubble-btn" onclick="openSettings()">⚙</div>
    <div class="bubble-btn" onclick="closeOverlay()">✕</div>
  </div>

  <div id="frames"></div>
</div>

<!-- ===== SETTINGS ===== -->
<div id="settingsPanel">
  <div class="settings-box">
    <h2>Settings</h2>

    <h3>Default Search</h3>
    <select id="searchSelect">
      <option value="startpage">Startpage</option>
      <option value="duckduckgo">DuckDuckGo</option>
      <option value="google">Google</option>
      <option value="bing">Bing</option>
    </select>

    <h3>Theme</h3>
    <select id="themeSelect">
      <option value="red">Red</option>
      <option value="blue">Blue</option>
      <option value="purple">Purple</option>
    </select>

    <h3>Cloaking</h3>
    <input id="cloakTitle" placeholder="Fake Tab Title">
    <input id="cloakIcon" placeholder="Favicon URL">

    <button class="bubble-btn" onclick="saveSettings()">Save</button>
    <button class="bubble-btn" onclick="closeSettings()">Close</button>
  </div>
</div>

<script>
/* ===== SETTINGS ===== */
const panel=document.getElementById("settingsPanel");

function openSettings(){panel.style.display="flex"}
function closeSettings(){panel.style.display="none"}

function saveSettings(){
  localStorage.search=searchSelect.value;
  localStorage.theme=themeSelect.value;
  if(cloakTitle.value) document.title=cloakTitle.value;
  if(cloakIcon.value){
    let l=document.querySelector("link[rel='icon']")||document.createElement("link");
    l.rel="icon";l.href=cloakIcon.value;document.head.appendChild(l);
  }
  document.body.dataset.theme=localStorage.theme;
  closeSettings();
}

/* ===== SEARCH ENGINE ===== */
function engine(q){
  const e=localStorage.search||"startpage";
  return {
    startpage:"https://www.startpage.com/sp/search?q=",
    duckduckgo:"https://duckduckgo.com/?q=",
    google:"https://www.google.com/search?q=",
    bing:"https://www.bing.com/search?q="
  }[e]+encodeURIComponent(q);
}

/* ===== FULLSCREEN ===== */
function fullscreen(){
  active?.iframe.requestFullscreen();
}
</script>

</body>
</html>
